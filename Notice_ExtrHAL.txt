ExtrHAL - version du 21/03/2016

Mise en place d'ExtrHAL :
. Décompressez l'archive et conservez l'arborescence des dossiers

. Le dossier img doit être accessible en écriture car c'est là que seront créés les graphes.
. Le dossier HAL doit être accessible en écriture car c'est là que seront copiés les résultats rtf/csv des extractions.
. Le dossier lib contient les libraires PHP pour la réalisation des graphes et l'export en RTF.
. Le dossier pvt contient les résultats des extractions des listes d'auteurs ; c'est un dossier protégé de manière à ce que ces listes restent inaccessibles directement depuis Internet, mais uniquement par appel de procédure dans un script.
. Le dosiier aide contient des utilitaires permettant de mettre en place la protection du dossier pvt.

. Modifiez le fichier ExtractionHAL-auteurs.php en complétant les lignes du tableau $AUTEURS_LISTE avec les auteurs de votre structure.
. Modifiez le fichier bitly_extrhal.php de création des URL raccourcies bitly :
  - Se connecter ou créer un compte sur bitly (https://bitly.com/)
  - Via la page https://bitly.com/a/settings/advanced, récupérer le login et l'API key et remplacer les données du ficher aux lignes :
      . define('bitlyLogin' , 'your_login');
      . define('bitlyKey', 'your_API_key');
  - Toujours via la page https://bitly.com/a/settings/advanced, créer une "OAuth Applications" et remplacer les données du fichier aux lignes :
      . define('bitly_clientid' , 'your_bitly_clientid');
      . define('bitly_secret' , 'your_bitly_secret');
. Accessoirement, modifiez le fichier favicon.ico

Pour la protection du dossier pvt :
. Grâce au fichier /aide/chemin.php à ouvrir avec votre navigateur, notez le chemin absolu qui apparaît à l'affichage de l'URL.
. Editez le fichier .htaccess en reportant le chemin noté précédemment à la ligne 3 du fichier .htaccess (par exemple, "C:\wamp\www\ExtrHAL\pvt\.htpasswd" sous Windows ou "/data/htdocs/hebergementweb/sites/extrhal/pvt/.htpasswd" sous Linux).
. Grâce au fichier /aide/crypt.php à ouvrir avec votre navigateur, renseignez les login et mot de passe de votre choix et notez ensuite le résultat qui apparaît.
. Editez le fichier .htpasswd en reportant la ligne notée précédemment ; vous devriez pouvoir accéder à l'URL /pvt/test.php

Pour la création des fichiers de liste d'auteurs à mettre en évidence :
. Utilisez le script ExtractionHAL-liste-auteurs.php
. Il est possible d'importer une liste au format csv ou txt selon le fichier modèle modele.csv/modele.txt :
  - La première ligne contenant les noms de colonnes ne doit pas être modifiée/supprimée.
  - Les champs doivent être séparés par des ;
  - Cette procédure écrase le fichier ExtractionHAL-auteurs.php existant pour le recréer avec les données renseignées.
  - Aussi, si le but souhaité est d'ajouter des auteurs, il faut exporter la liste au préalable avec la fonction prévue, ajouter les lignes souhaitées au fichier créé et importer celui-ci.
